<html><head><meta http-equiv='content-type' charset='utf-8'><title>1</title></head><body style='font-family: sans-serif; font-size: 1.4em; font-weight: bold; text-align: center; max-width:1024px; width: 100%; margin: auto;'>
<link rel='icon' href='data:;base64,iVBORw0KGgo='>
<img id='align.png' src='align.png' \>
<audio id='audio.wav' src='audio.wav' style='width: 100%;' controls></audio>
<pre style='white-space: pre-wrap;'><div>Artist bikkeburanka, Genre j-pop</div>, Lyrics kzk</div>
<span id='1/0'></span><span id='1/1'>き</span><span id='1/2'>み</span><span id='1/3'> </span><span id='1/4'>に</span><span id='1/5'> </span><span id='1/6'>い</span><span id='1/7'>い</span><span id='1/8'> </span><span id='1/9'>こ</span><span id='1/10'>と</span><span id='1/11'> </span><span id='1/12'>が</span><span id='1/13'> </span><span id='1/14'>あ</span><span id='1/15'>る</span><span id='1/16'> </span><span id='1/17'>よ</span><span id='1/18'>う</span><span id='1/19'> </span><span id='1/20'>に</span><span id='1/21'> </span><span id='1/22'>き</span><span id='1/23'>ょ</span><span id='1/24'>う</span><span id='1/25'> </span><span id='1/26'>は</span><span id='1/27'> </span><span id='1/28'>あ</span><span id='1/29'>か</span><span id='1/30'> </span><span id='1/31'>い</span><span id='1/32'> </span><span id='1/33'>す</span><span id='1/34'>と</span><span id='1/35'>ろ</span><span id='1/36'> </span><span id='1/37'>さ</span><span id='1/38'>し</span><span id='1/39'>て</span><span id='1/40'> </span><span id='1/41'>あ</span><span id='1/42'>げ</span><span id='1/43'>る</span><span id='1/44'>
</span><span id='1/45'>く</span><span id='1/46'>ん</span><span id='1/47'> </span><span id='1/48'>に</span><span id='1/49'> </span><span id='1/50'>い</span><span id='1/51'>い</span><span id='1/52'> </span><span id='1/53'>こ</span><span id='1/54'>と</span><span id='1/55'> </span><span id='1/56'>が</span><span id='1/57'> </span><span id='1/58'>あ</span><span id='1/59'>る</span><span id='1/60'> </span><span id='1/61'>よ</span><span id='1/62'>う</span><span id='1/63'> </span><span id='1/64'>に</span><span id='1/65'> </span><span id='1/66'>あ</span><span id='1/67'>る</span><span id='1/68'> </span><span id='1/69'>よ</span><span id='1/70'>う</span><span id='1/71'> </span><span id='1/72'>に</span><span id='1/73'> </span><span id='1/74'>あ</span><span id='1/75'>る</span><span id='1/76'> </span><span id='1/77'>よ</span><span id='1/78'>う</span><span id='1/79'> </span><span id='1/80'>に</span><span id='1/81'>
</span><span id='1/82'>く</span><span id='1/83'>ん</span><span id='1/84'> </span><span id='1/85'>に</span><span id='1/86'> </span><span id='1/87'>い</span><span id='1/88'>い</span><span id='1/89'> </span><span id='1/90'>こ</span><span id='1/91'>と</span><span id='1/92'> </span><span id='1/93'>が</span><span id='1/94'> </span><span id='1/95'>あ</span><span id='1/96'>る</span><span id='1/97'> </span><span id='1/98'>よ</span><span id='1/99'>う</span><span id='1/100'> </span><span id='1/101'>に</span><span id='1/102'> </span><span id='1/103'>き</span><span id='1/104'>ょ</span><span id='1/105'>う</span><span id='1/106'> </span><span id='1/107'>は</span><span id='1/108'> </span><span id='1/109'>あ</span><span id='1/110'>か</span><span id='1/111'> </span><span id='1/112'>い</span><span id='1/113'> </span><span id='1/114'>す</span><span id='1/115'>と</span><span id='1/116'>ろ</span><span id='1/117'> </span><span id='1/118'>さ</span><span id='1/119'>し</span><span id='1/120'>て</span><span id='1/121'> </span><span id='1/122'>あ</span><span id='1/123'>げ</span><span id='1/124'>る</span><span id='1/125'>
</span><span id='1/126'>く</span><span id='1/127'>ん</span><span id='1/128'> </span><span id='1/129'>に</span><span id='1/130'> </span><span id='1/131'>い</span><span id='1/132'>い</span><span id='1/133'> </span><span id='1/134'>こ</span><span id='1/135'>と</span><span id='1/136'> </span><span id='1/137'>が</span><span id='1/138'> </span><span id='1/139'>あ</span><span id='1/140'>る</span><span id='1/141'> </span><span id='1/142'>よ</span><span id='1/143'>う</span><span id='1/144'> </span><span id='1/145'>に</span><span id='1/146'> </span><span id='1/147'>あ</span><span id='1/148'>る</span><span id='1/149'> </span><span id='1/150'>よ</span><span id='1/151'>う</span><span id='1/152'> </span><span id='1/153'>に</span><span id='1/154'> </span><span id='1/155'>あ</span><span id='1/156'>る</span><span id='1/157'> </span><span id='1/158'>よ</span><span id='1/159'>う</span><span id='1/160'> </span><span id='1/161'>に</span><span id='1/162'>
</span><span id='1/163'>
</span><span id='1/164'>は</span><span id='1/165'>じ</span><span id='1/166'> </span><span id='1/167'>め</span><span id='1/168'>て</span><span id='1/169'> </span><span id='1/170'>て</span><span id='1/171'> </span><span id='1/172'>が</span><span id='1/173'> </span><span id='1/174'>さ</span><span id='1/175'>わ</span><span id='1/176'> </span><span id='1/177'>れ</span><span id='1/178'> </span><span id='1/179'>た</span><span id='1/180'> </span><span id='1/181'>こ</span><span id='1/182'>の</span><span id='1/183'> </span><span id='1/184'>へ</span><span id='1/185'>や</span><span id='1/186'> </span><span id='1/187'>で</span><span id='1/188'> </span><span id='1/189'>な</span><span id='1/190'>ん</span><span id='1/191'> </span><span id='1/192'>で</span><span id='1/193'>も</span><span id='1/194'> </span><span id='1/195'>な</span><span id='1/196'>い</span><span id='1/197'> </span><span id='1/198'>い</span><span id='1/199'>つ</span><span id='1/200'>も</span><span id='1/201'> </span><span id='1/202'>の</span><span id='1/203'> </span><span id='1/204'>ち</span><span id='1/205'>ょ</span><span id='1/206'>う</span><span id='1/207'>し</span><span id='1/208'>ょ</span><span id='1/209'>く</span><span id='1/210'> </span><span id='1/211'>を</span><span id='1/212'>
</span><span id='1/213'>の</span><span id='1/214'>ど</span><span id='1/215'> </span><span id='1/216'>を</span><span id='1/217'> </span><span id='1/218'>と</span><span id='1/219'>お</span><span id='1/220'> </span><span id='1/221'>ら</span><span id='1/222'> </span><span id='1/223'>な</span><span id='1/224'>か</span><span id='1/225'>っ</span><span id='1/226'> </span><span id='1/227'>た</span><span id='1/228'> </span><span id='1/229'>こ</span><span id='1/230'>の</span><span id='1/231'> </span><span id='1/232'>へ</span><span id='1/233'>や</span><span id='1/234'> </span><span id='1/235'>で</span><span id='1/236'> </span><span id='1/237'>ぱ</span><span id='1/238'>じ</span><span id='1/239'>ゃ</span><span id='1/240'>ま</span><span id='1/241'> </span><span id='1/242'>の</span><span id='1/243'> </span><span id='1/244'>ま</span><span id='1/245'>ま</span><span id='1/246'> </span><span id='1/247'>で</span><span id='1/248'> </span><span id='1/249'>お</span><span id='1/250'> </span><span id='1/251'>み</span><span id='1/252'>そ</span><span id='1/253'>し</span><span id='1/254'>る</span><span id='1/255'> </span><span id='1/256'>を</span><span id='1/257'>
</span><span id='1/258'>
</span><span id='1/259'>ね</span><span id='1/260'>ぐ</span><span id='1/261'>せ</span><span id='1/262'> </span><span id='1/263'>ひ</span><span id='1/264'>ど</span><span id='1/265'>い</span><span id='1/266'> </span><span id='1/267'>ね</span><span id='1/268'> </span><span id='1/269'>い</span><span id='1/270'> </span><span id='1/271'>っ</span><span id='1/272'> </span><span id='1/273'>て</span><span id='1/274'> </span><span id='1/275'>ら</span><span id='1/276'>っ</span><span id='1/277'>し</span><span id='1/278'>ゃ</span><span id='1/279'>い</span><span id='1/280'> </span><span id='1/281'>ち</span><span id='1/282'>い</span><span id='1/283'> </span><span id='1/284'>さ</span><span id='1/285'>く</span><span id='1/286'> </span><span id='1/287'>さ</span><span id='1/288'>よ</span><span id='1/289'>う</span><span id='1/290'>な</span><span id='1/291'>ら</span><span id='1/292'> </span><span id='1/293'>と</span><span id='1/294'> </span><span id='1/295'>て</span><span id='1/296'> </span><span id='1/297'>を</span><span id='1/298'> </span><span id='1/299'>ふ</span><span id='1/300'> </span><span id='1/301'>る</span><span id='1/302'>
</span><span id='1/303'>あ</span><span id='1/304'>し</span><span id='1/305'>た</span><span id='1/306'> </span><span id='1/307'>も</span><span id='1/308'> </span><span id='1/309'>き</span><span id='1/310'>み</span><span id='1/311'> </span><span id='1/312'>の</span><span id='1/313'> </span><span id='1/314'>え</span><span id='1/315'>が</span><span id='1/316'>お</span><span id='1/317'> </span><span id='1/318'>を</span><span id='1/319'> </span><span id='1/320'>み</span><span id='1/321'> </span><span id='1/322'>ら</span><span id='1/323'>れ</span><span id='1/324'> </span><span id='1/325'>ま</span><span id='1/326'>す</span><span id='1/327'> </span><span id='1/328'>よ</span><span id='1/329'>う</span><span id='1/330'> </span><span id='1/331'>に</span><span id='1/332'> </span><span id='1/333'>と</span><span id='1/334'> </span><span id='1/335'>て</span><span id='1/336'> </span><span id='1/337'>を</span><span id='1/338'> </span><span id='1/339'>ふ</span><span id='1/340'> </span><span id='1/341'>る</span><span id='1/342'>
</span><span id='1/343'>
</span><span id='1/344'>く</span><span id='1/345'>ん</span><span id='1/346'> </span><span id='1/347'>に</span><span id='1/348'> </span><span id='1/349'>い</span><span id='1/350'>い</span><span id='1/351'> </span><span id='1/352'>こ</span><span id='1/353'>と</span><span id='1/354'> </span><span id='1/355'>が</span><span id='1/356'> </span><span id='1/357'>あ</span><span id='1/358'>る</span><span id='1/359'> </span><span id='1/360'>よ</span><span id='1/361'>う</span><span id='1/362'> </span><span id='1/363'>に</span><span id='1/364'> </span><span id='1/365'>き</span><span id='1/366'>ょ</span><span id='1/367'>う</span><span id='1/368'> </span><span id='1/369'>は</span><span id='1/370'> </span><span id='1/371'>あ</span><span id='1/372'>か</span><span id='1/373'> </span><span id='1/374'>い</span><span id='1/375'> </span><span id='1/376'>す</span><span id='1/377'>と</span><span id='1/378'>ろ</span><span id='1/379'> </span><span id='1/380'>さ</span><span id='1/381'>し</span><span id='1/382'>て</span><span id='1/383'> </span></pre>
<script>
            async function fetchAsync (url) {
                let response = await fetch(url);
                let data = await response.json();
                return data;
            }
    
            var audio = document.getElementById('audio.wav');
            audio.onplay = function () {
                track = '1'
                fetchAsync('align.json')
                .then(data => animateLyrics(data, track, this))
                .catch(reason => console.log(reason.message))
            }; 
    
            function animateLyrics(data, track, audio) {
                var animate = setInterval(function () {
                    var time = Math.floor(audio.currentTime*430/audio.duration);
                    if (!(time == 0 || time == 430)) {
                        console.log(time);
                        changeColor(data, track, audio, time);
                    }
                    if (audio.paused) {
                        clearInterval(animate);
                    }
                }, 50);
            }
    
            function changeColor(data, track, audio, time) {
                colors = data[time]
                for (i = 0; i < colors.length; i++){
                    character = document.getElementById(track + '/' + i.toString());
                    color = Math.max(230 - 10*colors[i], 0).toString();
                    character.style.color = 'rgb(255,' + color + ',' + color + ')';
                }
            }
            </script>
</body></html>
